<button *ngIf="user$ | async as user"
        [matMenuTriggerFor]="posXMenu"
        [matTooltip]="user?.displayName || ''"
        [style.background-image]="user | userPhotoUrl:true"
        mat-mini-fab
        style="background-size: cover"
>
  <span *ngIf="!user.photoURL">{{user | displayNameInitials}}</span>
</button>

<mat-menu #posXMenu="matMenu" xPosition="before">
  <div
    *ngIf="user$ | async as user"
    style="
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding: 0 8px 8px 8px;"
    class="user-details"
  >
    <strong>{{user.displayName}}</strong>
    <em>{{user.email}}</em>
  </div>

  <div class="user-actions">
    <button (click)="signOut()"
            color="warn"
            mat-raised-button>
      Sign out
    </button>
  </div>
</mat-menu>
